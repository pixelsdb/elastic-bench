# Elastic-Bench: ?????????

????CAB?Cloud Analytics Benchmark?????????????????????

## ??

????????TPC-H?TPC-DS??????????????????????????????????????????????????????????????????????

????CAB?????VLDB 2023??????????????

1. ??????????????
2. ???????????????
3. ???????????????
4. ??????????????????
5. ??????????????????????

## ??????

Elastic-Bench??????????????????????Snowset?Redset???????

1. **???????Sinusoidal Noise Pattern?** - ??????????????????????????
2. **???????Random Spikes Pattern?** - ????????????????
3. **?????Burst Pattern?** - ?????????????????
4. **????????Load Breaker Pattern?** - ?????????????????????????????????
5. **????????Hourly Spikes Pattern?** - ???????????????24?????

??????????????????????????????????

## ????

???CAB?????

1. **??????????**???????????????????????????????
2. **??????**????1?4?5????????????1/20?????????????
3. **???????**??????????????????????
4. **??????**??????????????????????????????
5. **????**?????scanned_bytes?????CPU??????????
6. **??????**???????????????????10?????????????
7. **????**???????????????

## ????

### ??

```bash
# ????
git clone https://github.com/pixelsdb/elastic-bench.git
cd benchmark

# ????
g++ -o benchmark *.cpp -std=c++11
```

### ??

```bash
./benchmark -p <pattern_ids> -s <scale> -c <hours/scanedbytes> -t <duration> [-mode bytes]
```
#### ??

- `-p`???ID?1-5??????????????
- `-s`??????????
- `-c`?CPU?????????????????
- `-t`?????????
- `-mode bytes`??????????????CPU????

#### ??

```bash
# ??????1???????10GB??cputime?24???8??????????
./benchmark -p 1 -s 10 -c 24 -t 8

# ????????2?5???????100GB??cputime?24???4??????????
./benchmark -p 2 5 -s 100 -c 50 -t 4 -mode bytes
```

### ????

???????????

- `query_stream_p{pattern}_s{scale}_{mode}{budget}_t{duration}.json`???????
- `query_stream_p{pattern}_s{scale}_{mode}{budget}_t{duration}_slot_info_{N}.json`??????????????????????????cputime???10e-6s?scanned_bytes?????

## ????

??????

1. ???Snowflake??????????????TPC-H??
2. ???????????????
3. ????????????????
4. ??TPC-H?????????????
5. ???????????????


## ??

- Cloud Analytics Benchmark (CAB), VLDB 2023
- [Snowset](https://github.com/resource-disaggregation/snowset) - Snowflake???????
- [Redset](https://github.com/amazon-science/redset) - Amazon Redshift???????

## ??

????????????????????????????????????????????????????
